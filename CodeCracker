import numpy
import matplotlib.pyplot as plt
from collections import Counter
import re

with open ("dataSet.txt", "r") as myfile:
    file=myfile.readlines()

listCode = []
counter = []
totalX = []
totalY = []

def plotFile(file, totalX, totalY):
    for line in file:
        x = []
        y = []
        listCode = []
        line = re.sub(r"[^a-zA-Z0-9]","",line)
        line = line.lower()
        for char in line:
            number = ord(char) - 96
            listCode.append(int(number))
        counter=Counter(listCode)
        y = list(counter.keys())
        x = list(counter.values())
        for item in y:
            totalY.append(item)
        for item in x:
            totalX.append(item)
        plt.scatter(x, y, color="black")

plotFile(file, totalX, totalY)

mymodel = numpy.poly1d(numpy.polyfit(totalY, totalX, 3))
myline = numpy.linspace(1, len(totalX), 100)
plt.xlim(0, max(totalX))
plt.ylim(1, 26)
plt.plot(myline, mymodel(myline), color="black")
plt.show()

print(mymodel(6))
